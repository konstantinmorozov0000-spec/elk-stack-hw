# –î–æ–º–∞—à–Ω—è—è —Ä–∞–±–æ—Ç–∞: ELK Stack (Elasticsearch, Kibana, Logstash, Filebeat)

## **–ó–∞–¥–∞–Ω–∏–µ 1 ‚Äî Elasticsearch**

–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å Elasticsearch, –∏–∑–º–µ–Ω–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä `cluster_name` –Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–π.

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∫–æ–º–∞–Ω–¥—É:

```bash
curl -X GET 'localhost:9200/_cluster/health?pretty'
```

### üì∏ –°–∫—Ä–∏–Ω—à–æ—Ç 1: **Elasticsearch cluster health**
![1](screenshots/elasticsearch-health.png)

> –ù–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∫–ª–∞—Å—Ç–µ—Ä–∞ Elasticsearch. –ü–æ–ª–µ `cluster_name` –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç, —á—Ç–æ –ø–∞—Ä–∞–º–µ—Ç—Ä –±—ã–ª —É—Å–ø–µ—à–Ω–æ –∏–∑–º–µ–Ω—ë–Ω.

---

## **–ó–∞–¥–∞–Ω–∏–µ 2 ‚Äî Kibana**

–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å Kibana.
–ü–µ—Ä–µ–π—Ç–∏ –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å Dev Tools:

```
http://localhost:5601/app/dev_tools#/console
```

–í—ã–ø–æ–ª–Ω–∏—Ç—å –∑–∞–ø—Ä–æ—Å:

```
GET /_cluster/health?pretty
```

### üì∏ –°–∫—Ä–∏–Ω—à–æ—Ç 2: **Kibana Dev Tools ‚Äî cluster health**
![2](screenshots/kibana-devtools-health.png)

> –°–∫—Ä–∏–Ω –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –¥–æ—Å—Ç—É–ø Kibana –∫ Elasticsearch. –û—Ç–≤–µ—Ç –∞–Ω–∞–ª–æ–≥–∏—á–µ–Ω –≤—ã–≤–æ–¥—É curl, —á—Ç–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—É—é —Ä–∞–±–æ—Ç—É –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞.

---

## **–ó–∞–¥–∞–Ω–∏–µ 3 ‚Äî Logstash + Nginx > Elasticsearch**

–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Logstash –∏ Nginx. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Logstash —Ç–∞–∫, —á—Ç–æ–±—ã –æ–Ω –æ—Ç–ø—Ä–∞–≤–ª—è–ª `access.log` Nginx –≤ Elasticsearch.

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –ª–æ–≥–∏ –ø–æ—è–≤–ª—è—é—Ç—Å—è –≤ Kibana (—Ä–∞–∑–¥–µ–ª Discover).

### üì∏ –°–∫—Ä–∏–Ω—à–æ—Ç 3: **Kibana ‚Äî –ª–æ–≥–∏ Nginx, –ø–æ—Å—Ç—É–ø–∏–≤—à–∏–µ —á–µ—Ä–µ–∑ Logstash**
![3](screenshots/kibana-logstash-nginx.png)

> –°–∫—Ä–∏–Ω –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ Logstash —É—Å–ø–µ—à–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –ª–æ–≥–∏ Nginx –≤ Elasticsearch.

---

## **–ó–∞–¥–∞–Ω–∏–µ 4 ‚Äî Filebeat ‚Üí Elasticsearch**

–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å Filebeat. –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –æ—Ç–ø—Ä–∞–≤–∫—É –ª–æ–≥–æ–≤ Nginx —Å Logstash –Ω–∞ Filebeat.

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –ª–æ–≥–∏ Nginx —Å–Ω–æ–≤–∞ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ Kibana, –Ω–æ —É–∂–µ –ø–æ—Å—Ç—É–ø–∞—é—Ç –æ—Ç Filebeat.

### üì∏ –°–∫—Ä–∏–Ω—à–æ—Ç 4: **Kibana ‚Äî –ª–æ–≥–∏ Nginx, –ø–æ—Å—Ç—É–ø–∏–≤—à–∏–µ —á–µ—Ä–µ–∑ Filebeat**
![4](screenshots/kibana-filebeat-nginx.png)

> –°–∫—Ä–∏–Ω—à–æ—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç, —á—Ç–æ Filebeat —É—Å–ø–µ—à–Ω–æ —Å—á–∏—Ç—ã–≤–∞–µ—Ç –ª–æ–≥–∏ Nginx –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∏—Ö –Ω–∞–ø—Ä—è–º—É—é –≤ Elasticsearch, –º–∏–Ω—É—è Logstash.
